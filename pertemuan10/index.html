<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Pertemuan 10 | JavaScript</title>
  </head>
  <body>
    <h2>Jumlah Kasus <span id="jumlah-kasus">10</span></h2>
    <form>
      <table>
        <tr>
          <td>Jumlah Ranjang RS</td>
          <td><input id="input-j" /></td>
        </tr>
        <tr>
          <td>Jumlah total ranjang di rumah sakit yang terisi</td>
          <td><input id="input-t" /></td>
        </tr>
        <tr>
          <td colspan="2">
            <input
              type="button"
              id="input-button"
              value="Kalkulasi Keterisian Ranjang di Rumah Sakit"
              onclick="prosesPerhitungan()"
            />
          </td>
        </tr>
        <tr>
          <td>Persentase keterisian</td>
          <td><p id="output-ptj"></p></td>
        </tr>
        <tr>
          <td>Kondisi</td>
          <td><p id="output-k"></p></td>
        </tr>
      </table>
    </form>
    <script>
      var contohJSON = {
        nama: "Randy",
        umur: 20,
        motor: {
          merk: "Vario",
          warna: "Ungu",
          sisa_bensin: 1,
          ban_array: [
            {
              posisi: "depan",
              kondisi: "tipis",
            },
            {
              posisi: "belakang",
              kondisi: "tebal",
              merk: "Swalaw",
            },
          ],
        },
      };

      console.log(contohJSON);
      var h2 = document.getElementsByTagName("h2")[0];
      h2.innerText = "Narutoooo";
      h2.style.color = "yellow";
      console.log(h2);

      //   Membuat function prosesPerhitungan
      function prosesPerhitungan() {
        // menampilkan string di console
        console.log("Fungsi prosesPerhitungan() dipanggil");

        // memilih nilai dari id input-j (Jumlah total ranjang di rumah sakit)
        var j = document.getElementById("input-j").value;
        console.log(j);

        // memilih nilai dari id input-t (Jumlah total ranjang di rumah sakit yang terisi)
        var t = document.getElementById("input-t").value;
        console.log(t);

        // Buat formula untuk menghitung persentase keterisian ranjang (ptj) !
        // Persentase keterisian ranjang = ranjang yang terisi dibagi dengan total ranjang

        var ptj = t / j;

        // menampilkan text melalui output-ptj
        document.getElementById("output-ptj").textContent = ptj + " %";

        /*
            Buat formula untuk menampilkan kondisi keterisian ranjang (k)
            Jika dibawah 30%, kondisi = AMAN
            Jika 30% - 70%, kondisi = WASPADA
            Jika diatas 70%, kondisi = DARURAT
          */
        var k = "";
        if (ptj <= 0.0) {
          k = "ERROR";
        } else if (ptj <= 0.3) {
          k = "AMAN";
        } else if (ptj <= 0.7) {
          k = "WASPADA";
        } else if (ptj > 0.7) {
          k = "DARURAT";
        }

        // menampilkan ketersediaan ranjang (k) melalui it output-k
        document.getElementById("output-k").textContent = k;
      }
    </script>
  </body>
</html>
